<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Usage &#8212; articubench 0.0.1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d1102ebc" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css?v=686e5160" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css?v=27fed22d" />
    <script src="_static/documentation_options.js?v=d45e8c67"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Development" href="development.html" />
    <link rel="prev" title="Tasks" href="tasks.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Link to this heading">¶</a></h1>
<section id="minimal-example">
<h2>Minimal example<a class="headerlink" href="#minimal-example" title="Link to this heading">¶</a></h2>
<p>After installing the model a minimal working example can be found in ‘articubench/examples/minimal_example.py’.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">articubench.score</span> <span class="kn">import</span> <span class="n">score</span>
<span class="kn">from</span> <span class="nn">articubench.control_models</span> <span class="kn">import</span> <span class="n">synth_paule_fast</span><span class="p">,</span> <span class="n">synth_baseline_schwa</span><span class="p">,</span> <span class="n">synth_paule_acoustic_semvec</span><span class="p">,</span> <span class="n">synth_baseline_segment</span>


<span class="n">results_segment</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">synth_baseline_segment</span><span class="p">,</span> <span class="n">tasks</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscores</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">return_individual_subscores</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">results_paule</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">synth_paule_fast</span><span class="p">,</span> <span class="n">tasks</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscores</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">return_individual_subscores</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">results_baseline</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">synth_baseline_schwa</span><span class="p">,</span> <span class="n">tasks</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscores</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">return_individual_subscores</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">results_paule_full</span> <span class="o">=</span> <span class="n">score</span><span class="p">(</span><span class="n">synth_paule_acoustic_semvec</span><span class="p">,</span> <span class="n">tasks</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">subscores</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">,</span> <span class="n">return_individual_subscores</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Here we have two parts, first the control model which generates our cp-trajectories and the scoring function which evaluates them.</p>
<p>The control models which come from the PAULE package expect at least a sequence length and depending on the task also target audio or target semantic embeddings.</p>
</section>
<section id="loading-your-own-control-model">
<h2>Loading your own control model<a class="headerlink" href="#loading-your-own-control-model" title="Link to this heading">¶</a></h2>
<section id="loading-paule">
<h3><strong>Loading PAULE</strong><a class="headerlink" href="#loading-paule" title="Link to this heading">¶</a></h3>
<p>To use one of the pre-configured control models seen above, we need to have the PAULE package installed, afterwards we simply load the PAULE class using one of PAULE’s or our own forward, inverse and embedder models.</p>
<p>Then we use the .plan_resynth() function to generate our CPs, as seen in the below example which is specified for the ‘acoustic-semvec’ task.</p>
<p>In-detail explanations on PAULE are given the respective documentation, therefore we will skip them here.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">paule</span> <span class="kn">import</span> <span class="n">paule</span>

<span class="n">PAULE_MODEL</span> <span class="o">=</span> <span class="n">paule</span><span class="o">.</span><span class="n">Paule</span><span class="p">(</span><span class="n">pred_model</span> <span class="o">=</span> <span class="n">FORWARD_MODEL</span><span class="p">,</span> <span class="n">inv_model</span> <span class="o">=</span> <span class="n">INVERSE_MODEL</span><span class="p">,</span> <span class="n">embedder</span> <span class="o">=</span> <span class="n">EMBEDDING_MODEL</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="n">DEVICE</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">synth_paule</span><span class="p">(</span><span class="n">seq_length</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">target_semantic_vector</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>

    <span class="n">results</span> <span class="o">=</span> <span class="n">PAULE_MODEL</span><span class="o">.</span><span class="n">plan_resynth</span><span class="p">(</span><span class="n">target_semvec</span><span class="o">=</span><span class="n">target_semantic_vector</span><span class="p">,</span>
            <span class="n">target_seq_length</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">seq_length</span> <span class="o">//</span> <span class="mi">2</span><span class="p">))</span>
    <span class="n">cps</span> <span class="o">=</span> <span class="n">results</span><span class="o">.</span><span class="n">planned_cp</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">cps</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">seq_length</span>
    <span class="k">return</span> <span class="n">util</span><span class="o">.</span><span class="n">inv_normalize_cp</span><span class="p">(</span><span class="n">cps</span><span class="p">)</span>
</pre></div>
</div>
<hr class="docutils" />
<p>This example also showcases two of the pitfalls of the PAULE package, first the need to normalize the CPs before returning them and secondly the produced CPs are half the length of the target audio.
Meaning they have half the time resolution of the target audio.</p>
</section>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">articubench</a></h1>









<search id="searchbox" style="display: none" role="search">
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="Search"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script><h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="scores.html">Scores</a></li>
<li class="toctree-l1"><a class="reference internal" href="tasks.html">Tasks</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#minimal-example">Minimal example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-your-own-control-model">Loading your own control model</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="development.html">Development</a></li>
<li class="toctree-l1"><a class="reference internal" href="articubench.html">Package overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tasks.html" title="previous chapter">Tasks</a></li>
      <li>Next: <a href="development.html" title="next chapter">Development</a></li>
  </ul></li>
</ul>
</div>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Konstantin Sering.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 8.1.3</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 1.0.0</a>
      
      |
      <a href="_sources/usage.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>